---
layout: presentation
title: Data exploration
---

class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

<!-- Do not forget to adapt the presentation title in the header! -->

<!-- Adjust the presentation to the session. Focus on the challenges,
    this is not a coding tutorial.

    Note, to include figures, store the image in the `/docs/assets/images`
    folder and use the jekyll base.url reference as done in this template
    or see https://jekyllrb.com/docs/liquid/tags/#links.
    using the scale attribute ![:scale 30%](...), you can adjust the image size.
-->

<!--  Adjust the day, month  -->
# 28 JANUARY 2020

## INBO coding club

<!--  Adjust the room number and name  -->
Herman Teirlinck<br>
01.05 - Isala Van Diest

---
class: center, left

![:scale 100%]({{ site.baseurl}}/assets/images/20200128_roomie.png)

---
class: center, middle

<!-- Create a new badge using Inkscape based on the assets/images/coding_club_badges.svg file -->
![:scale 90%]({{ site.baseurl}}/assets/images/20200128_data_exploration.png)

---
class: center, middle

![:scale 90%]({{ site.baseurl}}/assets/images/20190423_cheat_sheet_dplyr_preview.png)
[Download cheatsheet here](https://github.com/inbo/coding-club/blob/master/cheat_sheets/20181129_cheat_sheet_data_transformation.pdf)

---
class: center, middle

### How to get started?

Check the [Each session setup](https://inbo.github.io/coding-club/gettingstarted.html#each-session-setup) to get started.

### First time coding club?

Check the [First time setup](https://inbo.github.io/coding-club/gettingstarted.html#first-time-setup) section to setup.

---
class: center, middle

![:scale 100%]({{ site.baseurl}}/assets/images/coding_club_sticky_concept.png)

---
class: center, middle

### Share your code during the coding session!

<!-- Create a new hackmd file and replace this link (twice!) -->
Go to https://hackmd.io/51fdfXY8SXOcOSMke3vZUg?both

<iframe src="https://hackmd.io/51fdfXY8SXOcOSMke3vZUg?both" height="440px" width="800px"></iframe>

---
class: left, middle

### Install and load the package suite

`install.packages("tidyverse")`<br>
`library(tidyverse)`

---
class: left, middle

## Download data and source file

- Click [`20200128_garden_butterflycounts.csv`](https://github.com/inbo/coding-club/blob/master/data/20200128_garden_butterfly_counts.csv) and download* data file to your `/data` folder.
- Click [`20200128_challenges.R`]() and download* script file in your `/src` folder.

* __Note__: check the getting started instructions on [how to download a single file](https://inbo.github.io/coding-club/gettingstarted.html#each-session-setup)

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_1.png)
class: left, middle

# Challenge 1

## Be familiar with your data

Open `20200128_challenges.R` you have just downloaded, read `butterflycounts_df` and:

1. check the `head()` of it
1. check the `str()` of it
1. have a `glimpse()` of it
1. get some `summary()` statistics out of it
1. calculate the number of rows and columns of it
1. get the column names
1. or, if it is not too big, `View()` it

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_2.png)
class: left, middle

# Challenge 2. Exploring means...

- Getting the `distinct()` values of specific columns.
  1. In which years countings took place?
  2. Which species were observed?
- Getting the `distinct()` pair values:
  1. In which years-months countings took place?
  2. In which years a species was observed?
- Summarizing. Let's `summarise()` to produce a one-row dataframe containing columns: `n_distinct_gardens` (n of distinct gardens where countings took place), `min_year`, `max_year`, `n_distinct_years` (n of distinct years when countings took place), `min_counts`, `max_counts`, `mean_counts` (average number of individuals per counting).

![:scale 65%]({{ site.baseurl}}/assets/images/20200128_distinct_summarize.png)
---
class: left, middle
background-image: url({{ site.baseurl}}/assets/images/background_challenge_3.png)

# Intermezzo

[`tidylog`](https://github.com/elbersb/tidylog#tidylog) can be a useful package when working with data (and `dplyr` functions).

`install.packages("tidylog")`<br>
`library(tidylog)`

![:scale 100%]({{ site.baseurl}}/assets/images/20200128_tidylog.png)

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_3.png)
class: left, middle

# Challenge 3. The `group_by() %>% sumamrize()` recipe.

<p>
  1. Summarising as we did in challenge 2 is nice. But what if we want to retrieve the very same information (number of gardens, minimum year, maximum year, number of years, average countings) for <b>each species</b>?
</p>
<p>
  2. Get a summary with total number of counted individuals per species.
</p>
<p>
  3. Get a summary with total number of counted individuals per species and month.
</p>

---
class: left, middle

# Bonus challenge

- Sometimes you need to *do something* before summarising: `group_by() %>% do_something() %>% summarise()`. In how many months per year and per garden did countings occur? You can plot the result by using the given code.

- Sometimes you need to *do something* per each group without summarising: `group_by() %>% do_something()`. Start from output of third output of Challenge 3 to get:
  1. The top month of each species.
  2. The top 3 months of each species.
  3. All species with at least 4 months with over 2000 individuals.

---
class: center, middle

# Resources

Package [`DataExplorer`](https://towardsdatascience.com/simple-fast-exploratory-data-analysis-in-r-with-dataexplorer-package-e055348d9619) can help for basically data exploration. Via function `create_report()` you can get a comprehensive html report in a second!

![:scale 80%]({{ site.baseurl}}/assets/images/20200128_dataexplorer_package.png)

---
class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

<!--  Adjust the room and date  -->
Room: Herman Teirlinck - 01.05 - Isala Van Diest<br>
Date: __25/02/2020__, van 10:00 tot 12:00<br>
Title: **Data management**<br>
(registration announced via DG_useR@inbo.be)
