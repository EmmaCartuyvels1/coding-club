---
layout: presentation
title: Spatial data analysis
---

class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

# 26 FEBRUARY 2019

## INBO coding club

Herman Teirlinck<br>
01.71 - Frans Breziers

---
class: center, middle

<!-- Create a new badge using Inkscape based on the assets/images/coding_club_badges.svg file -->
![:scale 90%]({{ site.baseurl}}/assets/images/20190226_spatial_data.png)

---
class: left, middle

Install the package:
```r
install.packages("sf")
```

Load the package:
```r
library(sf)
```

---
class: center, middle

![:scale 90%]({{ site.baseurl}}/assets/images/20190226_cheasheet.png)<br />
[`sf` cheasheet]("../../cheat_sheets/20190228_cheat_sheet_sf/pdf")

---
class: center, middle

### How to get started?

Check the [Each session setup](https://inbo.github.io/coding-club/gettingstarted.html#each-session-setup) to get started.

### First time coding club?

Check the [First time setup](https://inbo.github.io/coding-club/gettingstarted.html#first-time-setup) section to setup.

---
class: center, middle

![:scale 100%]({{ site.baseurl}}/assets/images/coding_club_sticky_concept.png)

---
class: center, middle

### Share your code during the coding session!

<!-- Create a new hackmd file and replace this link (twice!) -->
Go to TODO

<iframe src="TODO" height="400px" width="800px"></iframe>

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_1.png)
class: left, middle

# Challenge 1

- Download the `./data/20190228_utm10_bel.zip`. It contains the EAA reference grid of Belgium at 10km resolution. Download it in folder `./data` and extract all in subfolder `./data/20190228_utm10_bel/`.
- Download R file `./src/20190228_challenge_1.R` and run it to get occurrences of Chinese mitten crabs in Belgium with valid coordinates.

Challenge:
1. Read the reference grid with `sf` package. Check [documentation](https://r-spatial.github.io/sf/articles/sf2.html) on how to do it.
2. Create a `sf` data.frame, `spatial_crab_df`, from `crab_df`. Assign the Coordinate Reference System (CRS) of GBIF data: `epsg=4326`. Check [documentation](https://r-spatial.github.io/sf/articles/sf2.html).
3. Compare the CRS of occurrences and grid. Use the [sf cheatsheet].

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_2.png)
class: left, middle

# Challenge 2

1. How many occurrences of Chinese mitten crab in each cell from 2015? Hint: Use sf cheatsheet to find how to *intersect* geometries.
2. Find the 5 cells with the highest number of occurrences.


---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_3.png)
class: left, middle

# Challenge 3

Download the zip file `./data/20190228_ps_hbtrl.zip` in `./data/`, right click on it and choose "extract to 20190228_ps_hbtrl". You have just downloaded the *Habitatrichtlijn(deel)gebieden* of Flanders. Source: [Habitatrichtlijn(deel)gebieden](https://www.geopunt.be/catalogus/datasetfolder/a84a87f5-5607-4019-a8db-9d52a827786b).

Goal:
1. Create a buffer of 1km around the protected areas.
2. How far is the nearest Chinese mitten crab for each 

---
class: center, middle

<!-- Always try to include some type of reviewing (can be short and entertaining).
    Remove this slide if no reviewing is included -->
![:scale 100%]({{ site.baseurl}}/assets/images/time_for_review.jpg)

---
class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

<!--  Adjust the room and date  -->
Zaal: Herman Teirlinck - ROOM<br>
Datum: __DATE__, van 10:00 tot 12:00<br>
(registration announced via DG_useR@inbo.be)
