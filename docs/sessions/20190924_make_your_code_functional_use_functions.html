---
layout: presentation
title: make your code functional write functions
---

class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

<!-- Do not forget to adapt the presentation title in the header! -->

<!-- Adjust the presentation to the session. Focus on the challenges,
    this is not a coding tutorial.

    Note, to include figures, store the image in the `/docs/assets/images`
    folder and use the jekyll base.url reference as done in this template
    or see https://jekyllrb.com/docs/liquid/tags/#links.
    using the scale attribute ![:scale 30%](...), you can adjust the image size.
-->

<!--  Adjust the day, month  -->
# 24 SEPTEMBER 2019

## INBO coding club

<!--  Adjust the room number and name  -->
Herman Teirlinck<br>
01.71 - Frans Breziers

---
class: center, middle

<!-- Create a new badge using Inkscape based on the assets/images/coding_club_badges.svg file -->
![:scale 90%]({{ site.baseurl}}/assets/images/20190924_write_functions.png)

---
class: center, middle

![:scale 90%]({{ site.baseurl}}/assets/images/20190924_scheme_function.png)

---
class: center, middle

### Why functions?

![:scale 120%]({{ site.baseurl}}/assets/images/20190924_why_functions.png)

---
class: center, middle

![:scale 90%]({{ site.baseurl}}/assets/images/20190924_functions_as_building_blocks.jpg)

---
class: center, middle

### How to get started?

Check the [Each session setup](https://inbo.github.io/coding-club/gettingstarted.html#each-session-setup) to get started.

### First time coding club?

Check the [First time setup](https://inbo.github.io/coding-club/gettingstarted.html#first-time-setup) section to setup.

---
class: center, middle

![:scale 100%]({{ site.baseurl}}/assets/images/coding_club_sticky_concept.png)

---
class: center, middle

### Share your code during the coding session!

<!-- Create a new hackmd file and replace this link (twice!) -->
Go to https://hackmd.io/bzOI43RjRnaSu0bC4hQVPQ

<iframe src="https://hackmd.io/bzOI43RjRnaSu0bC4hQVPQ" height="400px" width="800px"></iframe>

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_1.png)
class: left, middle

# Challenge 1

- Click [`oppervlakte_straat_wijken_Brugge.csv`](https://github.com/inbo/coding-club/blob/master/data/oppervlakte_straat_wijken_Brugge.csv) and download* data file to `./data` folder.
- Click [`20190924_challenges.R`](https://github.com/inbo/coding-club/blob/master/src/20190924_challenges.R) and download* script in `./src` folder.
- Write function `get_info_districts` so that you can retrieve the summary values of `oppervlakte_straat_wijken_Brugge.csv` using your function.

<small>* __Note__: check the getting started instructions on [how to download a single file](https://inbo.github.io/coding-club/gettingstarted.html#each-session-setup)</small>

---
background-image: url({{ site.baseurl}}/assets/images/background_challenge_2.png)
class: left, middle

# Challenge 2

- Click [`oppervlakte_straat_wijken_Antwerpen.csv`](https://github.com/inbo/coding-club/blob/master/data/oppervlakte_straat_wijken_Antwerpen.csv) and download data file to `./data` folder.
- Adapt the function `get_info_districts` so that you can reuse your function to tackle also Antwerp's data without altering the data itself*.

<small>* __Tip__: select column by name with double square brackets instead of $: `df[["col_name"]]` instead of `df$col_name`

---
class: left, middle

## Intermezzo: standards help

You have no idea (or unfortunately you have it) how difficult it is to compare data got from different instances.
Do you want to compare district demography or air quality from different open data city portals? Good luck!

1. Strive for standards
2. Use standards
3. Contribute to improve standards if they are not good enough. Your own "better standard" on your laptop is not a standard...

<br>![:scale 50%]({{ site.baseurl}}/assets/images/20190924_standards.png)
Standards in biodiversity: [TDWG standards](https://www.tdwg.org/standards/)

---
class: left, middle
background-image: url({{ site.baseurl}}/assets/images/background_challenge_3.png)
class: left, middle

# Challenge 3

<p>Functions allow you to reuse your own coding work more easily, i.e. Don't Repeat Yourself (DRY), aka less copy pasting of codeâ€¦</p>

- Click [`20190829_goose_counts_2018.csv`](https://github.com/inbo/coding-club/blob/master/data/20190829_goose_counts_2018.csv) used in previous coding club and download data file to `./data` folder.
  - The challenge 3 code in [`20190924_challenges.R`](https://github.com/inbo/coding-club/blob/master/src/20190924_challenges.R) is long, redundant and prone to errors. Write a function called `counts_summary` to generate the very same plots without repeating yourself.

<small>* __Tip__: use  `!!sym(var_name)` in your function to group data frame by a variable containing column name.

---
class: center, middle

# Made functions useful for colleagues?

Share them by collaborating to [`inborutils`](https://github.com/inbo/inborutils) package.

![:scale 80%]({{ site.baseurl}}/assets/images/20190924_inborutils.PNG)

---
class:center, middle

# Do you want more?

<p>Go [in depth](http://adv-r.had.co.nz/Functions.html#function-arguments), do a check [under the hood](https://swcarpentry.github.io/r-novice-inflammation/14-supp-call-stack/) or learn more about [programming with `dplyr`](https://dplyr.tidyverse.org/articles/programming.html).</p>
![:scale 90%]({{ site.baseurl}}/assets/images/20190924_more_info_functions.PNG)

---
class: center, middle

![:scale 30%]({{ site.baseurl}}/assets/images/coding_club_logo_1.png)

<!--  Adjust the room and date  -->
Room: Herman Teirlinck - 01.71 - Frans Breziers<br>
Date: __24/10/2019__, van 10:00 tot 12:00<br>
Title: Manipulate strings in R<br>
(registration announced via DG_useR@inbo.be)
